<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ToolTier ‚Äì AI Tools Ranked</title>
  <meta name="description" content="Glossy navy-blue + metallic gold AI tool directory. Auto-updated via Google Sheet.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root{
      --deep:#000B1D;--gold-metallic:#FFD700;--glass:rgba(255,255,255,0.08);
      --text:#ffffff;--sub:#a0b3c6;--border:rgba(255,255,255,0.12);
      --radius:12px;--blur:30px;--shadow:0 6px 24px rgba(0,11,29,0.7);
    }
    *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;margin:0;padding:0}
    body{background:var(--deep);color:var(--text);line-height:1.4;-webkit-font-smoothing:antialiased}
    a{color:var(--text);text-decoration:none}
    header{position:sticky;top:0;z-index:10;background:var(--glass);backdrop-filter:blur(var(--blur));border-bottom:1px solid var(--border);padding:10px 16px}
    .head-inner{max-width:1200px;margin:auto;display:flex;flex-direction:column;gap:10px}
    h1{font-size:26px;font-weight:700;letter-spacing:-.5px}
    .search-bar{position:relative}.search-bar input{width:100%;padding:12px 40px 12px 14px;font-size:15px;border:1px solid var(--border);border-radius:10px;background:var(--glass);backdrop-filter:blur(10px);outline:none}.search-bar input:focus{border-color:var(--gold-metallic)}
    .search-icon{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:var(--sub)}
    .container{max-width:1200px;margin:auto;padding:16px}
    .cat-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;padding:0}@media(max-width:800px){.cat-grid{grid-template-columns:1fr}}
    .cat-card{background:var(--glass);border:1px solid var(--border);border-radius:var(--radius);padding:16px;display:flex;flex-direction:column;gap:12px;backdrop-filter:blur(var(--blur));box-shadow:var(--shadow)}
    .cat-header{display:flex;align-items:center;gap:10px}.cat-icon{font-size:36px;line-height:1}.cat-title{font-size:18px;font-weight:600}
    .tool-grid-home{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:8px}.tool-grid-home .tool-card{background:var(--glass);border-radius:8px;padding:8px;display:flex;flex-direction:column;align-items:center;gap:6px;backdrop-filter:blur(10px)}
    .tool-grid-home .tool-card img{width:40px;height:40px;object-fit:contain;border-radius:6px;background:#fff}.tool-grid-home .tool-card span{font-size:12px;font-weight:500;text-align:center;color:var(--text)}
    .more-btn{margin-top:6px;font-size:13px;font-weight:500;color:var(--gold-metallic)}
    .side-by-side{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;padding:0}@media(max-width:800px){.side-by-side{grid-template-columns:1fr}}
    .tool-side-card{background:var(--glass);border:1px solid var(--border);border-radius:var(--radius);padding:12px;display:flex;align-items:center;gap:12px;backdrop-filter:blur(var(--blur));box-shadow:var(--shadow)}
    .tool-side-card img.icon{width:56px;height:56px;object-fit:contain;border-radius:10px;background:#fff}.tool-side-card .info{flex:1}.tool-side-card h3{font-size:15px;font-weight:600}.tool-side-card p{font-size:13px;color:var(--sub)}.tool-side-card .reviews{font-size:11px;color:var(--sub);margin-top:4px}.tool-side-card .actions{display:flex;gap:8px;align-items:center}
    .tool-side-card .cta{background:var(--gold-metallic);color:#000;padding:8px 14px;border-radius:8px;font-weight:600;font-size:13px}
    footer{background:var(--glass);border-top:1px solid var(--border);padding:20px 16px;text-align:center;font-size:13px;color:var(--sub);backdrop-filter:blur(var(--blur))}
    .hidden{display:none !important}
  </style>
</head>
<body>
  <header>
    <div class="head-inner">
      <h1>ToolTier</h1>
      <div class="search-bar">
        <input type="text" id="searchInp" placeholder="Search tools or models‚Ä¶" autocomplete="off">
        <span class="search-icon">üîç</span>
      </div>
    </div>
  </header>

  <!-- Category cards (front page) ‚Äì 4 unranked tools -->
  <div class="container">
    <div class="cat-grid" id="catGrid"></div>
  </div>

  <!-- Full tier section (hidden until "View All" clicked) ‚Äì ranked A/B/C -->
  <div class="full-tier-section container" id="fullSection">
    <a href="#" class="back-btn" onclick="showCats(); return false;">‚Üê Back to categories</a>
    <h2 id="fullTitle"></h2>
    <div id="fullBoard"></div>
  </div>

  <!-- Footer -->
  <footer>
    <p>ToolTier may earn an affiliate commission. This never affects our rankings.</p>
    <p>Contact: <a href="mailto:YOUR_EMAIL_HERE">YOUR_EMAIL_HERE</a></p>
    <p>¬© <span id="year"></span> ToolTier</p>
  </footer>

  <script>
    /*  CONFIG  ‚Äì  only thing you ever touch is the Google-Sheet url  */
    const SHEET_CSV = 'https://docs.google.com/spreadsheets/d/1YOUR_SHEET_ID/gviz/tq?tqx=out:csv&headers=1'; // ‚Üê paste YOUR publish link
    const YOUR_EMAIL = 'you@example.com';

    /*  =====  no code below this line needs to change  =====  */

    const searchInp = document.getElementById('searchInp');
    const catGrid   = document.getElementById('catGrid');
    const fullSection = document.getElementById('fullSection');
    let CLASSES = [];

    async function loadData(){
      const res = await fetch(SHEET_CSV);
      const text = await res.text();
      const rows = text.split('\n').slice(1);           // skip header
      const map = {};
      rows.forEach(r=>{
        const [name,tagline,tier,icon,aff,reviews,category,emoji] = r.split(',').map(s=>s.trim().replace(/^"|"$/g,''));
        if(!map[category]) map[category] = {name:category,icon:emoji,tools:[]};
        map[category].tools.push({name,tagline,tier,icon,aff,reviews:reviews.split('|').map(rv=>{const [stars,text]=rv.split(':');return{stars:Number(stars),text}})});
      });
      CLASSES = Object.values(map);
      renderCats(CLASSES);
    }
    loadData();

    function renderCats(list){
      catGrid.innerHTML = '';
      list.forEach(cls=>{
        const card = document.createElement('div');
        card.className = 'cat-card';
        card.innerHTML = `
          <div>
            <div class="cat-header"><span class="cat-icon">${cls.icon}</span><div class="cat-title">${cls.name}</div></div>
            <div class="tool-grid-home">
              ${cls.tools.slice(0,4).map(t=>`
                <div class="tool-card">
                  <img src="${t.icon}" alt="${t.name}" onerror="this.src='https://via.placeholder.com/40x40/fff/000?text='+encodeURIComponent('${t.name}'.charAt(0))">
                  <span>${t.name}</span>
                </div>
              `).join('')}
            </div>
          </div>
          <a href="#" class="more-btn" onclick="showClass('${cls.name}'); return false;">View All ${cls.name} Tools ‚Üí</a>
        `;
        catGrid.appendChild(card);
      });
    }

    function showClass(name){
      const cls = CLASSES.find(c=>c.name===name);
      if(!cls) return;
      catGrid.style.display='none';
      fullSection.classList.add('active');
      document.getElementById('fullTitle').textContent = 'Top '+cls.name+' Tools';
      const board=document.getElementById('fullBoard');
      board.innerHTML='';
      const tiers={A:[],B:[],C:[]};
      cls.tools.forEach(t=>tiers[t.tier].push(t));
      ['A','B','C'].forEach(tier=>{
        if(!tiers[tier].length) return;
        const sec=document.createElement('section');
        sec.innerHTML=`<div class="tier-label">${tier} TIER</div><div class="side-by-side"></div>`;
        const grid=sec.querySelector('.side-by-side');
        tiers[tier].forEach(t=>{
          const isAvailable = t.aff !== '#' && t.aff !== '';
          const card=document.createElement('div');
          card.className='tool-side-card';
          card.innerHTML=`
            <img class="icon" src="${t.icon}" alt="${t.name}" onerror="this.src='https://via.placeholder.com/56x56/fff/000?text='+encodeURIComponent('${t.name}'.charAt(0))">
            <div class="info">
              <h3>${t.name}</h3>
              <p>${t.tagline}</p>
              <div class="reviews">${t.reviews.map(r=>`<span>‚≠ê ${r.stars} ${r.text}</span>`).join('<br>')}</div>
            </div>
            <div class="actions">
              ${isAvailable?`<a class="cta" href="${t.aff}" target="_blank" rel="nofollow sponsored">Get This Tool</a>`:''}
            </div>
          `;
          grid.appendChild(card);
        });
        board.appendChild(sec);
      });
    }

    function showCats(){
      fullSection.classList.remove('active');
      catGrid.style.display='grid';
    }

    searchInp.addEventListener('input',e=>{
      const q=e.target.value.toLowerCase();
      const filtered=CLASSES.map(cls=>({
        ...cls,
        tools:cls.tools.filter(t=>t.name.toLowerCase().includes(q)||t.tagline.toLowerCase().includes(q))
      })).filter(cls=>cls.tools.length);
      renderCats(filtered);
      if(filtered.length===1&&q.length>2) showClass(filtered[0].name);
    });

    document.getElementById('year').textContent=new Date().getFullYear();
  </script>
</body>
</html>
